
<!DOCTYPE html>
<html lang="zh-HK">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿¡ç”¨å¡ç®¡å®¶ V1.1 Ledger</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>

<body class="max-w-md mx-auto min-h-screen relative">

    <div class="bg-white p-4 shadow-sm sticky top-0 z-20 flex justify-between items-center">
        <h1 class="text-xl font-bold text-gray-800"><i class="fas fa-wallet text-blue-600 mr-2"></i>ä¿¡ç”¨å¡ç®¡å®¶</h1>
        <span class="text-xs text-white bg-indigo-600 px-2 py-1 rounded-full">V1.1 Ledger</span>
    </div>

    <div id="view-dashboard" class="p-4 space-y-4 tab-content">
        <div id="dashboard-container"></div>
        <h3 class="text-xs font-bold text-gray-500 uppercase ml-1">é¡åº¦ç›£æ§ (Cap)</h3>
        <div id="cap-monitors" class="space-y-3"></div>
    </div>

    <div id="view-calculator" class="p-4 space-y-4 tab-content hidden">
        <div class="flex justify-center mb-4">
            <div class="bg-gray-200 p-1 rounded-lg flex text-xs font-bold">
                <button id="btn-mode-miles" onclick="toggleMode('miles')"
                    class="px-4 py-1.5 rounded-md transition-all bg-white text-blue-600 shadow-sm">é¡¯ç¤ºé‡Œæ•¸ (Miles)</button>
                <button id="btn-mode-cash" onclick="toggleMode('cash')"
                    class="px-4 py-1.5 rounded-md transition-all text-gray-500">é¡¯ç¤ºç¾é‡‘ ($)</button>
            </div>
        </div>
        <div id="fee-deduct-wrap" class="flex items-center justify-center text-[10px] text-gray-600">
            <label class="flex items-center gap-2 bg-gray-100 px-3 py-1.5 rounded-full">
                <input id="toggle-fee-deduct" type="checkbox" class="accent-blue-600" onchange="toggleFeeDeduct(this.checked)">
                æ‰£é™¤å¤–å¹£æ‰‹çºŒè²»ï¼ˆåªå½±éŸ¿æ’åºï¼‰
            </label>
        </div>
        <div class="bg-white p-5 rounded-2xl shadow-sm space-y-4">
            <div>
                <label class="block text-xs font-bold text-gray-500 uppercase mb-1">ç°½è³¬é‡‘é¡ (HKD)</label>
                <div class="relative">
                    <span class="absolute left-3 top-3 text-gray-400">$</span>
                    <input type="number" id="amount" value="3000"
                        class="w-full pl-8 p-3 bg-gray-50 rounded-xl text-lg font-semibold" oninput="runCalc()">
                </div>
            </div>
            <div>
                <label class="block text-gray-700 font-bold mb-2">ç°½è³¬é¡åˆ¥</label>
                <div class="flex gap-2 mb-4">
                    <select id="category" class="w-full p-3 border border-gray-300 rounded-lg bg-white appearance-none"
                        onchange="toggleCategoryHelp(); runCalc()">
                        <!-- Javascript will populate this -->
                    </select>
                    <button id="cat-help-btn"
                        class="hidden px-3 text-gray-400 hover:text-blue-500 border border-gray-200 rounded-lg"><i
                            class="fas fa-question-circle"></i></button>
                </div>
                <div class="flex items-center justify-between mb-4 text-xs text-gray-600">
                    <span class="font-bold">äº¤æ˜“é¡å‹</span>
                    <label class="flex items-center gap-2 bg-gray-100 px-3 py-1.5 rounded-full">
                        <input id="tx-online" type="checkbox" class="accent-blue-600" onchange="runCalc()">
                        ç¶²ä¸Šäº¤æ˜“
                    </label>
                </div>

                <div class="flex gap-4 mb-4">
                    <div class="w-2/3">
                        <label class="block text-gray-700 font-bold mb-2 text-xs">ğŸ“… ç°½è³¬æ—¥æœŸ</label>
                        <input type="date" id="tx-date" class="w-full p-2 border border-gray-300 rounded-lg text-sm"
                            onchange="runCalc()">
                    </div>
                    <div class="w-1/3 flex items-center justify-center pt-6">
                        <span id="holiday-badge"
                            class="hidden bg-red-100 text-red-600 px-2 py-1 rounded text-xs font-bold border border-red-200">
                            ğŸ”´ å…¬çœ¾å‡æœŸ
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div id="calc-results" class="space-y-3 pb-10"></div>
    </div>

    <div id="view-settings" class="p-4 space-y-4 tab-content hidden">
        <div id="settings-container"></div>
    </div>

    <div id="view-ledger" class="p-4 space-y-4 tab-content hidden">
        <div id="ledger-container"></div>
    </div>

    <!-- Disclaimer Footer -->
    <div class="p-4 pb-20 bg-gray-50 border-t border-gray-200">
        <div class="max-w-md mx-auto space-y-3">
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-[10px] text-gray-600 leading-relaxed">
                <p class="font-bold text-yellow-700 mb-2">âš ï¸ å…è²¬è²æ˜ Disclaimer</p>
                <p class="mb-2">æœ¬å·¥å…·åƒ…ä¾›åƒè€ƒï¼Œæ‰€æœ‰å›è´ˆè¨ˆç®—çµæœåƒ…ç‚ºä¼°ç®—ã€‚éŠ€è¡Œæ¢æ¬¾åŠæ¨å»£å„ªæƒ æœƒä¸æ™‚æ›´æ”¹ï¼Œå¯¦éš›å›è´ˆä»¥éŠ€è¡Œæœ€æ–°å…¬ä½ˆç‚ºæº–ã€‚</p>
                <p class="mb-2">ä½¿ç”¨è€…æ‡‰è‡ªè¡Œæ ¸å¯¦éŠ€è¡Œæ¢æ¬¾ï¼Œä¸¦å°è‡ªå·±çš„è²¡å‹™æ±ºç­–è² è²¬ã€‚æœ¬å·¥å…·ä¸æ§‹æˆä»»ä½•è²¡å‹™å»ºè­°ã€‚</p>
                <p class="text-gray-500">This tool is for reference only. All cashback calculations are estimates. Bank
                    terms and promotions are subject to change. Users should verify terms with their banks and are
                    responsible for their own financial decisions.</p>
            </div>
            <div class="text-center space-y-2">
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSc924Ytr60wr15_QFdrITFGoR3tjDmtg2djbPPxswkUvJZY4A/viewform"
                    target="_blank" class="text-xs text-blue-500 hover:text-blue-700 underline block mb-2">ğŸ› å›å ±å•é¡Œ /
                    æä¾›æ„è¦‹
                </a>
                <p class="text-xs text-gray-400">Made with â¤ï¸ in Hong Kong</p>
                <p class="text-xs text-gray-400">Â© 2026 ä¿¡ç”¨å¡ç®¡å®¶ | All Rights Reserved</p>
            </div>
        </div>
    </div>

    <div
        class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around p-3 pb-5 z-20 max-w-md mx-auto">
        <button onclick="switchTab('dashboard')" class="flex flex-col items-center text-blue-600 tab-btn w-1/4"
            id="btn-dashboard"><i class="fas fa-chart-pie text-xl mb-1"></i><span class="text-[10px]">é€²åº¦</span></button>
        <button onclick="switchTab('calculator')" class="flex flex-col items-center text-gray-400 tab-btn w-1/4"
            id="btn-calculator"><i class="fas fa-calculator text-xl mb-1"></i><span
                class="text-[10px]">è¨ˆç®—</span></button>
        <button onclick="switchTab('ledger')" class="flex flex-col items-center text-gray-400 tab-btn w-1/4"
            id="btn-ledger"><i class="fas fa-book text-xl mb-1"></i><span class="text-[10px]">è¨˜å¸³</span></button>
        <button onclick="switchTab('settings')" class="flex flex-col items-center text-gray-400 tab-btn w-1/4"
            id="btn-settings"><i class="fas fa-cog text-xl mb-1"></i><span class="text-[10px]">è¨­å®š</span></button>
    </div>

    <!-- Scripts: Loaded in dependency order -->
    <script src="js/data_cards.js"></script>
    <script src="js/data_categories.js"></script>
    <script src="js/data_modules.js"></script>
    <script src="js/data_conversions.js"></script>
    <script src="js/data_rules.js"></script>
    <script src="js/data_promotions.js"></script>
    <script src="js/core.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>

</html>
